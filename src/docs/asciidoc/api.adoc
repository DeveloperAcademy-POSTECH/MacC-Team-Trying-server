= 맛스타
:doctype: book
:icons: font
:source-highlighter: highlightjs
:toc: left
:toclevels: 2
:toc-title: 목차
:sectlinks:
:postman: https://app.getpostman.com/join-team?invite_code=eced301be47710dd0f768ec2b1fcea66&target_code=d5cd81a5a539ebf1ae56b87b4502e6d7

ifndef::snippets[]
:snippets: ./build/generated-snippets
endif::[]

[[Certification]]
== Certification

[[create-certification]]
=== 1. 인증코드 생성
- 회원가입시 이메일을 인증하기 위한 코드를 전송

==== Request
include::{snippets}/certification-docs-test/create_certification/http-request.adoc[]
include::{snippets}/certification-docs-test/create_certification/request-fields.adoc[]

==== Response
include::{snippets}/certification-docs-test/create_certification/http-response.adoc[]

'''

[[certificate]]
=== 2. 인증코드 확인
- 이메일로 받은 인증코드를 확인

==== Request
include::{snippets}/certification-docs-test/certificate/http-request.adoc[]
include::{snippets}/certification-docs-test/certificate/request-fields.adoc[]

==== Response
include::{snippets}/certification-docs-test/certificate/http-response.adoc[]

[[User]]
== User

[[join]]
=== 1. 회원가입
- 인증받은 이메일로 가입해야 한다

==== Request
include::{snippets}/user-docs-test/join/http-request.adoc[]
include::{snippets}/user-docs-test/join/request-fields.adoc[]

==== Response
include::{snippets}/user-docs-test/join/http-response.adoc[]

'''

=== 2. 이메일 체크
- 로그인시 해당 이메일이 존재하는지 확인

==== Request
include::{snippets}/user-docs-test/check_email/http-request.adoc[]
include::{snippets}/user-docs-test/check_email/request-parameters.adoc[]

==== Response
include::{snippets}/user-docs-test/check_email/http-response.adoc[]
include::{snippets}/user-docs-test/check_email/response-fields.adoc[]

'''

=== 3. 로그인
- 사용자 인증을 위한 토큰 반환

==== Request
include::{snippets}/user-docs-test/login/http-request.adoc[]
include::{snippets}/user-docs-test/login/request-fields.adoc[]

==== Response
include::{snippets}/user-docs-test/login/http-response.adoc[]
include::{snippets}/user-docs-test/login/response-fields.adoc[]

'''

=== 4. 로그아웃

==== Request
include::{snippets}/user-docs-test/logout/http-request.adoc[]
include::{snippets}/user-docs-test/logout/request-headers.adoc[]

==== Response
include::{snippets}/user-docs-test/logout/http-response.adoc[]

'''

=== 5. 회원탈퇴

==== Request
include::{snippets}/user-docs-test/withdraw/http-request.adoc[]
include::{snippets}/user-docs-test/withdraw/request-headers.adoc[]

==== Response
include::{snippets}/user-docs-test/withdraw/http-response.adoc[]

'''

=== 6. 내 정보 조회
- 행성을 만들었으면 만든 행성 정보도 함께 조회
- 행성에 메이트가 초대되었으면 메이트 정보도 함께 조회

==== Request
include::{snippets}/user-docs-test/find-me/http-request.adoc[]
include::{snippets}/user-docs-test/find-me/request-headers.adoc[]

==== Response
include::{snippets}/user-docs-test/find-me/http-response.adoc[]
include::{snippets}/user-docs-test/find-me/response-fields.adoc[]

'''

=== 7. 닉네임 변경

==== Request
include::{snippets}/user-docs-test/update_name/http-request.adoc[]
include::{snippets}/user-docs-test/update_name/request-headers.adoc[]
include::{snippets}/user-docs-test/update_name/request-fields.adoc[]

==== Response
include::{snippets}/user-docs-test/update_name/http-response.adoc[]

'''


=== 8. 비밀번호 변경

==== Request
include::{snippets}/user-docs-test/update_password/http-request.adoc[]
include::{snippets}/user-docs-test/update_password/request-headers.adoc[]
include::{snippets}/user-docs-test/update_password/request-fields.adoc[]

==== Response
include::{snippets}/user-docs-test/update_password/http-response.adoc[]

'''

=== 9. 비밀번호 재설정
- 임의의 비밀번호로 변경되고, 입력한 이메일로 메일 전송

==== Request
include::{snippets}/user-docs-test/reset_password/http-request.adoc[]
include::{snippets}/user-docs-test/reset_password/request-fields.adoc[]

==== Response
include::{snippets}/user-docs-test/reset_password/http-response.adoc[]

[[Planet]]
== Planet

=== 1. 행성 생성

==== Request
include::{snippets}/planet-docs-test/create/http-request.adoc[]
include::{snippets}/planet-docs-test/create/request-headers.adoc[]
include::{snippets}/planet-docs-test/create/request-fields.adoc[]

==== Response
include::{snippets}/planet-docs-test/create/http-response.adoc[]
include::{snippets}/planet-docs-test/create/response-fields.adoc[]

'''

=== 2. 초대코드 조회

==== Request
include::{snippets}/planet-docs-test/get_invite_code/http-request.adoc[]
include::{snippets}/planet-docs-test/get_invite_code/request-headers.adoc[]
include::{snippets}/planet-docs-test/get_invite_code/path-parameters.adoc[]

==== Response
include::{snippets}/planet-docs-test/get_invite_code/http-response.adoc[]
include::{snippets}/planet-docs-test/get_invite_code/response-fields.adoc[]

'''

=== 3. 초대코드로 행성 조회
- 초대코드로 행성에 참가하기 전에 정보를 조회

==== Request
include::{snippets}/planet-docs-test/find_by_invite_code/http-request.adoc[]
include::{snippets}/planet-docs-test/find_by_invite_code/request-headers.adoc[]
include::{snippets}/planet-docs-test/find_by_invite_code/request-parameters.adoc[]

==== Response
include::{snippets}/planet-docs-test/find_by_invite_code/http-response.adoc[]
include::{snippets}/planet-docs-test/find_by_invite_code/response-fields.adoc[]

'''

=== 4. 행성 참가
- 내가 만든 행성에는 참가 불가
- 이미 행성에 2명이 참여해있다면 참가 불가

==== Request
include::{snippets}/planet-docs-test/join/http-request.adoc[]
include::{snippets}/planet-docs-test/join/request-headers.adoc[]

==== Response
include::{snippets}/planet-docs-test/join/http-response.adoc[]

'''

=== 5. 행성 조회

==== Request
include::{snippets}/planet-docs-test/find_by_id/http-request.adoc[]
include::{snippets}/planet-docs-test/find_by_id/path-parameters.adoc[]

==== Response
include::{snippets}/planet-docs-test/find_by_id/http-response.adoc[]
include::{snippets}/planet-docs-test/find_by_id/response-fields.adoc[]

'''

=== 6. 이름으로 행성 조회

==== Request
include::{snippets}/planet-docs-test/find_by_name/http-request.adoc[]
include::{snippets}/planet-docs-test/find_by_name/request-parameters.adoc[]

==== Response
include::{snippets}/planet-docs-test/find_by_name/http-response.adoc[]
include::{snippets}/planet-docs-test/find_by_name/response-fields.adoc[]

'''

=== 7. 팔로우한 행성 조회

==== Request
include::{snippets}/planet-docs-test/get_follow_planet/http-request.adoc[]
include::{snippets}/planet-docs-test/get_follow_planet/request-parameters.adoc[]

==== Response
include::{snippets}/planet-docs-test/get_follow_planet/http-response.adoc[]
include::{snippets}/planet-docs-test/get_follow_planet/response-fields.adoc[]

'''

=== 8. 행성 코스 목록 조회
- 내 행성은 모든 코스 조회
- 다른 사람의 행성은 공개 코스만 조회

==== Request
include::{snippets}/planet-docs-test/find_planet_course/http-request.adoc[]
include::{snippets}/planet-docs-test/find_planet_course/request-headers.adoc[]
include::{snippets}/planet-docs-test/find_planet_course/request-parameters.adoc[]
include::{snippets}/planet-docs-test/find_planet_course/path-parameters.adoc[]

==== Response
include::{snippets}/planet-docs-test/find_planet_course/http-response.adoc[]
include::{snippets}/planet-docs-test/find_planet_course/response-fields.adoc[]

'''

=== 9. 행성 수정

==== Request
include::{snippets}/planet-docs-test/update/http-request.adoc[]
include::{snippets}/planet-docs-test/update/request-headers.adoc[]
include::{snippets}/planet-docs-test/update/path-parameters.adoc[]
include::{snippets}/planet-docs-test/update/request-fields.adoc[]

==== Response
include::{snippets}/planet-docs-test/update/http-response.adoc[]

'''

=== 10. 행성 삭제

==== Request
include::{snippets}/planet-docs-test/remove/http-request.adoc[]
include::{snippets}/planet-docs-test/remove/request-headers.adoc[]
include::{snippets}/planet-docs-test/remove/path-parameters.adoc[]

==== Response
include::{snippets}/planet-docs-test/remove/http-response.adoc[]

'''

=== 11. 행성 팔로우
- 자신의 행성은 팔로우 불가

==== Request
include::{snippets}/planet-docs-test/follow/http-request.adoc[]
include::{snippets}/planet-docs-test/follow/request-headers.adoc[]

==== Response
include::{snippets}/planet-docs-test/follow/http-response.adoc[]

'''

=== 12. 행성 언팔로우

==== Request
include::{snippets}/planet-docs-test/unfollow/http-request.adoc[]
include::{snippets}/planet-docs-test/unfollow/request-headers.adoc[]

==== Response
include::{snippets}/planet-docs-test/unfollow/http-response.adoc[]

[[Course]]
== Course

=== 1. 코스 생성
- 코스가 하나이거나 모든 코스가 같은 위치인 경우 (0.5, 0.5) 반환
- 왼쪽 아래를 원점으로 설정

==== Request
include::{snippets}/course-docs-test/create/http-request.adoc[]
include::{snippets}/course-docs-test/create/request-headers.adoc[]
include::{snippets}/course-docs-test/create/request-parts.adoc[]
include::{snippets}/course-docs-test/create/request-part-data-fields.adoc[]

==== Response
include::{snippets}/course-docs-test/create/http-response.adoc[]
include::{snippets}/course-docs-test/create/response-fields.adoc[]

=== 2. 아이디로 코스 조회
- 다른 사람의 코스는 공개 코스만 조회 가능

==== Request
include::{snippets}/course-docs-test/find_by_id/http-request.adoc[]
include::{snippets}/course-docs-test/find_by_id/request-headers.adoc[]
include::{snippets}/course-docs-test/find_by_id/path-parameters.adoc[]

==== Response
include::{snippets}/course-docs-test/find_by_id/http-response.adoc[]
include::{snippets}/course-docs-test/find_by_id/response-fields.adoc[]

'''

=== 3. 이름으로 코스 조회
- 다른 사람의 코스는 공개 코스만, 내 코스는 비공개 코스도 조회

==== Request
include::{snippets}/course-docs-test/find_by_name/http-request.adoc[]
include::{snippets}/course-docs-test/find_by_name/request-headers.adoc[]
include::{snippets}/course-docs-test/find_by_name/request-parameters.adoc[]

==== Response
include::{snippets}/course-docs-test/find_by_name/http-response.adoc[]
include::{snippets}/course-docs-test/find_by_name/response-fields.adoc[]

'''

=== 4. 피드 조회
- 내 모든 코스 + 다른 사람의 공개 코스를 최신순으로 조회

==== Request
include::{snippets}/course-docs-test/feed/http-request.adoc[]
include::{snippets}/course-docs-test/feed/request-headers.adoc[]
include::{snippets}/course-docs-test/feed/request-parameters.adoc[]

==== Response
include::{snippets}/course-docs-test/feed/http-response.adoc[]
include::{snippets}/course-docs-test/feed/response-fields.adoc[]

'''

=== 5. 코스 수정
- 코스가 하나이거나 모든 코스가 같은 위치인 경우 (0.5, 0.5) 반환
- 왼쪽 아래를 원점으로 설정

==== Request
include::{snippets}/course-docs-test/update/http-request.adoc[]
include::{snippets}/course-docs-test/update/request-headers.adoc[]
include::{snippets}/course-docs-test/update/path-parameters.adoc[]
include::{snippets}/course-docs-test/update/request-parts.adoc[]
include::{snippets}/course-docs-test/update/request-part-data-fields.adoc[]

==== Response
include::{snippets}/course-docs-test/update/http-response.adoc[]
include::{snippets}/course-docs-test/update/response-fields.adoc[]

'''

=== 6. 코스 삭제

==== Request
include::{snippets}/course-docs-test/remove/http-request.adoc[]
include::{snippets}/course-docs-test/remove/request-headers.adoc[]
include::{snippets}/course-docs-test/remove/path-parameters.adoc[]

==== Response
include::{snippets}/course-docs-test/remove/http-response.adoc[]

'''

=== 7. 코스 좋아요
- 내 코스에도 좋아요 가능

==== Request
include::{snippets}/course-docs-test/like/http-request.adoc[]
include::{snippets}/course-docs-test/like/request-headers.adoc[]
include::{snippets}/course-docs-test/like/path-parameters.adoc[]

==== Response
include::{snippets}/course-docs-test/like/http-response.adoc[]

=== 8. 코스 좋아요 취소

==== Request
include::{snippets}/course-docs-test/unlike/http-request.adoc[]
include::{snippets}/course-docs-test/unlike/request-headers.adoc[]
include::{snippets}/course-docs-test/unlike/path-parameters.adoc[]

==== Response
include::{snippets}/course-docs-test/unlike/http-response.adoc[]

[[Exceptions]]
== Exceptions
- 500번 오류 발생시 에러 ID와 함께 알려주세요

|===
|값|설명
|id|에러 번호, 로그에서 에러 원인을 파악하는데 사용
|code|에러 코드
|message|에러 메세지
|===

=== 400 Bad Request
|===
|코드|설명
|INVALID_INPUT|입력값이 잘못된 경우

- 주로 제약조건에 맞지 않는 경우

|INVALID_TYPE|입력값의 타입이 맞지 않는 경우

- Number 자리에 String이 들어오는 경우

- 존재하지 않는 Enum 값이 입력된 경우

|INVALID_JSON_FORMAT|JSON 입력값이 잘못된 경우

|INVALID_PARAMETER|필수 파라미터가 입력되지 않은 경우

|INVALID_HEADER|필수 헤더가 입력되지 않은 경우

- 주로 Content-Type이 잘못된 경우
|INPUT_SIZE_EXCEEDED|입력값이 크기를 초과한 경우

- 주로 이미지 사이즈 문제
|===

=== 401 Unauthorized
|===
|코드|설명
|AUTHENTICATION_FAILED|인증 실패

- 인증 토큰 오류

|NOT_AUTHENTICATED|로그인 상태가 아닌 경우
|CERTIFICATION_FAILED|이메일 인증 실패
|INVALID_PASSWORD|비밀번호 오류
|===

=== 403 Forbidden
|===
|코드|설명
|NO_PERMISSION|권한 오류
|SUSPENDED_USER|정지된 사용자가 로그인을 시도하는 경우
|===

=== 404 Not Found
|===
|코드|설명
|NO_DATA|검색하는 데이터가 없는 경우

- 숨겨진 데이터인 경우

- HTTP 메서드가 잘못된 경우
|===

=== 409 Conflict
|===
|코드|설명
|DUPLICATED|중복 불가 제약조건을 위반하는 경우

|PLANET_JOIN_FAILED|행성 참여 실패

- 내 행성에 참여

- 이미 메이트가 들어온 행성에 참여

|PLANET_FOLLOW_FAILED|행성 팔로우 실패

- 내 행성 팔로우
|===
